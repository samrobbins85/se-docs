%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax

\PassOptionsToPackage{warn}{textcomp}
\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
% support both utf8 and utf8x syntaxes
  \ifdefined\DeclareUnicodeCharacterAsOptional
    \def\sphinxDUC#1{\DeclareUnicodeCharacter{"#1}}
  \else
    \let\sphinxDUC\DeclareUnicodeCharacter
  \fi
  \sphinxDUC{00A0}{\nobreakspace}
  \sphinxDUC{2500}{\sphinxunichar{2500}}
  \sphinxDUC{2502}{\sphinxunichar{2502}}
  \sphinxDUC{2514}{\sphinxunichar{2514}}
  \sphinxDUC{251C}{\sphinxunichar{251C}}
  \sphinxDUC{2572}{\textbackslash}
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}



\usepackage{times}
\expandafter\ifx\csname T@LGR\endcsname\relax
\else
% LGR was declared as font encoding
  \substitutefont{LGR}{\rmdefault}{cmr}
  \substitutefont{LGR}{\sfdefault}{cmss}
  \substitutefont{LGR}{\ttdefault}{cmtt}
\fi
\expandafter\ifx\csname T@X2\endcsname\relax
  \expandafter\ifx\csname T@T2A\endcsname\relax
  \else
  % T2A was declared as font encoding
    \substitutefont{T2A}{\rmdefault}{cmr}
    \substitutefont{T2A}{\sfdefault}{cmss}
    \substitutefont{T2A}{\ttdefault}{cmtt}
  \fi
\else
% X2 was declared as font encoding
  \substitutefont{X2}{\rmdefault}{cmr}
  \substitutefont{X2}{\sfdefault}{cmss}
  \substitutefont{X2}{\ttdefault}{cmtt}
\fi


\usepackage[Rejne]{fncychap}
\usepackage{sphinx}

\fvset{fontsize=\small}
\usepackage{geometry}


% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}

\usepackage{sphinxmessages}
\setcounter{tocdepth}{1}


\let\oldsubsection\subsection
\renewcommand{\subsection}{\needspace{6\baselineskip}\oldsubsection}
\setcounter{tocdepth}{2}                  
         

\title{Durham Foodbank}
\date{Apr 09, 2020}
\release{1.0.0}
\author{Group 12}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{Release}
\makeindex
\begin{document}

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{index::doc}}



\chapter{System Overview}
\label{\detokenize{index:system-overview}}

\section{Backend Overview}
\label{\detokenize{docs/System_Overview/Backend_overview:backend-overview}}\label{\detokenize{docs/System_Overview/Backend_overview::doc}}

\subsection{System Structure}
\label{\detokenize{docs/System_Overview/Backend_overview:system-structure}}
The whole system composes of three primary components: the MongoDB
Database, the Express Server (which I will also refer to as the back\sphinxhyphen{}end
server) and any number of clients running the front\sphinxhyphen{}end program.

The MongoDB database is where the data describing the contents and
structure of the warehouse will be stored so that it can be accessed and
edited by warehouse employees. We chose to use MongoDB as it is both
easily extensible and flexible. Details on the exact structure of the
database can be found in the Installation section.

The express server acts as a middle\sphinxhyphen{}man between the clients and the
MongoDB and provides a number of useful API functions to interface with
the database. It provides error handling between the client and server,
and between the server and the database, ensuring that the whole system
remains robust and to ensure consistency. Details on how to install and
deploy the express server are also in the Installation section.


\subsection{Back\sphinxhyphen{}end Functions}
\label{\detokenize{docs/System_Overview/Backend_overview:back-end-functions}}
In this section I will give a brief overview of all back\sphinxhyphen{}end functions
in \sphinxcode{\sphinxupquote{routes/stockTake.js}}


\subsubsection{addTray}
\label{\detokenize{docs/System_Overview/Backend_overview:addtray}}
When provided with a tray object and a MongoDB database object, this
function will add the contents of the tray object to the database.


\subsubsection{editTray}
\label{\detokenize{docs/System_Overview/Backend_overview:edittray}}
When provided with a tray object and a MongoDB database object, this
function will update the contents of an existing tray object in the
database, provided it exists.


\subsubsection{removeTray}
\label{\detokenize{docs/System_Overview/Backend_overview:removetray}}
When provided with the location of a tray object and a MongoDB database
object, this function will delete the tray from the database.


\subsubsection{switchTray}
\label{\detokenize{docs/System_Overview/Backend_overview:switchtray}}
When provided with the location of two different tray objects and a
MongoDB database object, this function with swap the positions of two
trays in the database.


\subsubsection{addTrayMany}
\label{\detokenize{docs/System_Overview/Backend_overview:addtraymany}}
When provided with an array of tray objects and a MongoDB database
object, this function will add all the tray objects to the database in a
single command. This should be used if many trays are added at once, as
adding them one\sphinxhyphen{}by\sphinxhyphen{}one will take an unacceptable amount of time.


\subsubsection{editTrayMany}
\label{\detokenize{docs/System_Overview/Backend_overview:edittraymany}}
When provided with an array of tray objects and a MongoDB database
object, this function will edit all the tray objects that are in the
database in a single command. This should be used if many trays are
edited at once, as editing them one\sphinxhyphen{}by\sphinxhyphen{}one will take an unacceptable
amount of time.


\subsubsection{removeTrayMany}
\label{\detokenize{docs/System_Overview/Backend_overview:removetraymany}}
When provided with an array of tray locations and a MongoDB database
object, this function will remove all the trays at the positions
specified. This should be used if many trays are deleted at once, as
deleting them one\sphinxhyphen{}by\sphinxhyphen{}one will take an unacceptable amount of time.


\subsubsection{getAllCategory}
\label{\detokenize{docs/System_Overview/Backend_overview:getallcategory}}
When provided with a category and a MongoDB database object, this
function will return all trays with a matching category. This can be
used to quickly obtain the locations of items of a specific type.


\subsubsection{getNextNExpiring}
\label{\detokenize{docs/System_Overview/Backend_overview:getnextnexpiring}}
When provided with a number N, an optional category argument and a
MongoDB database object, this function will return the next N expiring
trays. If a category is specified, it will return the next N expiring in
that category only. This can be useful if we wish to find the items
closest to expiring so that we can focus on taking them from the
warehouse first.


\subsubsection{getZones}
\label{\detokenize{docs/System_Overview/Backend_overview:getzones}}
This function, when provided with a MongoDB database object, simply
returns all zones in the warehouse.


\subsubsection{addZone}
\label{\detokenize{docs/System_Overview/Backend_overview:addzone}}
When provided with a zone object and a MongoDB database object, the zone
will be added to the database. This can be used in the initial creation
of the warehouse and to add zones temporarily when there is a need to
meet a higher than normal capacity.


\subsubsection{editZone}
\label{\detokenize{docs/System_Overview/Backend_overview:editzone}}
When provided with a zone object and a MongoDB database object, the zone
in the database will be edited, provided that it does exist.


\subsubsection{removeZone}
\label{\detokenize{docs/System_Overview/Backend_overview:removezone}}
When provided with a zone location and a MongoDB database object, the
zone will be removed from the database.


\subsubsection{addBay}
\label{\detokenize{docs/System_Overview/Backend_overview:addbay}}
When provided with a bay object and a MongoDB database object, the bay
will be added to the database.


\subsubsection{editBay}
\label{\detokenize{docs/System_Overview/Backend_overview:editbay}}
When provided with a bay object and a MongoDB database object, the bay
will be edited, provided it does exist.


\subsubsection{removeBay}
\label{\detokenize{docs/System_Overview/Backend_overview:removebay}}
When provided with the location of the bay and a MongoDB database
object, the bay will be removed from the database.


\subsubsection{getTraysInBay}
\label{\detokenize{docs/System_Overview/Backend_overview:gettraysinbay}}
When provided with the location of a bay and a MongoDB database object,
the function will return a list of all tray objects inside that bay,
provided the bay exists. This will be used to display bay contents in
the front\sphinxhyphen{}end application.


\subsubsection{getBaysInZone}
\label{\detokenize{docs/System_Overview/Backend_overview:getbaysinzone}}
When provided with the location of a zone and a MongoDB database object,
the function will return a list of all the bay objects inside that zone,
provided the zone exists.


\subsubsection{moveTray}
\label{\detokenize{docs/System_Overview/Backend_overview:movetray}}
When provided with two tray locations and a MongoDB database object, the
function will move the tray from one location to another provided a tray
exists in the start location and does not exist in the end position.


\subsubsection{mongoUpdate}
\label{\detokenize{docs/System_Overview/Backend_overview:mongoupdate}}
This function takes a request body and a method code. It will first
connect to the MongoDB database to get the database object. Then, using
the method code, it will pass the request body to one of the functions
described above. It is then responsible for handling errors that occur
and returning the result to the front\sphinxhyphen{}end.


\section{Frontend Overview}
\label{\detokenize{docs/System_Overview/Frontend_overview:frontend-overview}}\label{\detokenize{docs/System_Overview/Frontend_overview::doc}}

\subsection{Intro}
\label{\detokenize{docs/System_Overview/Frontend_overview:intro}}
The front end is built with \sphinxhref{https://reactjs.org/}{ReactJS} an object
orientated system aimed at building great user interfaces.
\begin{itemize}
\item {} 
It has a unique structure where in each item seen on the ui is effectively a
react class component.

\item {} 
These components contain subcomponents. some of these have been built buy us, others have been imported from a boot\sphinxhyphen{}strap component library.

\item {} 
We use two of these, \sphinxhref{https://v2.grommet.io/}{Grommet} and \sphinxhref{https://react-bootstrap.github.io/}{React bootstrap},
these are primarily used for buttons and styling that have the benefit of improving user
experience and decreasing development time.

\end{itemize}

The integral components that have been built by us are:


\subsection{Designer}
\label{\detokenize{docs/System_Overview/Frontend_overview:designer}}
The component is a tool to build the warehouse, add remove, resize zones
and their respective bays, this is a very simple component visibly,
however functionally it is integral. This component uses Api Endpoints:
\begin{itemize}
\item {} 
addTray

\item {} 
removeTray

\item {} 
addTrayMany

\item {} 
removeTrayMany

\item {} 
getZones

\item {} 
addZone

\item {} 
editZone

\item {} 
removeZone

\item {} 
addBay

\item {} 
editBay

\item {} 
removeBay

\item {} 
getTraysInBay

\item {} 
getBaysInZone

\end{itemize}


\subsection{Reports}
\label{\detokenize{docs/System_Overview/Frontend_overview:reports}}
This component takes and manipulates the data received from the api, the
component interfaces with the server. This component uses Api Endpoints:
\begin{itemize}
\item {} 
getNextNExpiring

\item {} 
getAllCategory

\item {} 
getZones

\item {} 
getTraysInBay

\item {} 
getReports

\item {} 
publishReport

\end{itemize}


\subsection{StockTake}
\label{\detokenize{docs/System_Overview/Frontend_overview:stocktake}}
This component acts as a data structure, fetching and syncing with the
server, the sub components below display the data stored in StockTake.
The component itself not at all complex, however its interactions with
the sub components and them with each other is quite a lot more complex
than the sum of the api calls. This component uses Api Endpoints:
\begin{itemize}
\item {} 
editTrayMany

\item {} 
editBay

\item {} 
getZones

\item {} 
getTraysInBay

\item {} 
getBaysInZone

\end{itemize}


\subsubsection{Bayview}
\label{\detokenize{docs/System_Overview/Frontend_overview:bayview}}
This component displays a collection of tray items; which represent
individul trays, it stores a list of the selected trays, and allows the
manipulation of tray items, by means of category buttons and several
forms.


\subsubsection{CategoryButtons}
\label{\detokenize{docs/System_Overview/Frontend_overview:categorybuttons}}
this component displays and handles the change of category.


\subsubsection{trayItem}
\label{\detokenize{docs/System_Overview/Frontend_overview:trayitem}}
a graphical representation of an individual tray and the event handler
for when an individual tray is selected.


\chapter{Installation}
\label{\detokenize{index:installation}}

\section{Authentication}
\label{\detokenize{docs/Installation/authentication:authentication}}\label{\detokenize{docs/Installation/authentication::doc}}
Authentication for the website is handled through
\sphinxhref{https://auth0.com/}{Auth0} the free tier allows for up to 7000
users, which should be more than ample.

The process of transferring the account to one that you own is very
simple:
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
Sign up for Auth0 \sphinxhref{https://auth0.com/signup}{here}

\item {} 
Under the applications tab on the dashboard create a new Generic
application

\item {} 
Copy the client ID from the application, as pictured below

\end{enumerate}

\noindent\sphinxincludegraphics[width=300\sphinxpxdimen]{{auth0}.png}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{3}
\item {} 
Paste this value under \sphinxcode{\sphinxupquote{clientID}} in \sphinxcode{\sphinxupquote{auth\_config.json}}, which is
located in the \sphinxcode{\sphinxupquote{src}} folder of the \sphinxcode{\sphinxupquote{frontend}} server

\item {} 
Also change the domain in the \sphinxcode{\sphinxupquote{auth\_config.json}} file, this domain
can also be found in the application, as shown below

\item {} 
Disable signups by going to the connections tab of the dashboard,
clicking on \sphinxcode{\sphinxupquote{Username\sphinxhyphen{}Password\sphinxhyphen{}Authentication}}, then turning on the
disable signups option as shown below

\end{enumerate}

This is done as otherwise any user could come and sign up for the system
without permission


\section{Backend}
\label{\detokenize{docs/Installation/backEnd:backend}}\label{\detokenize{docs/Installation/backEnd::doc}}
In our handover there is a folder named \sphinxcode{\sphinxupquote{backend}}, in this is stored
the server that manages the requests made in the website. It is built
using Node.js and Express and can be started with \sphinxcode{\sphinxupquote{npm install}}
followed by \sphinxcode{\sphinxupquote{npm start}}, the server will then be hosted on port
\sphinxstylestrong{3000}

When both the front end have been started, requests can be made between
them


\subsection{Deployment}
\label{\detokenize{docs/Installation/backEnd:deployment}}
Our recommendation for deploying this is on
\sphinxhref{https://www.heroku.com/}{heroku} as it has a good free tier and has
suitable pricing plans for expanding if usage increases.

It is also simple to set up:
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
Create an account \sphinxhref{https://signup.heroku.com/}{here}

\item {} 
Click the new button on your dashboard to create a new application

\item {} 
Give it a name and set the region to Europe

\item {} 
Follow the on screen instructions to get your code deployed

\end{enumerate}


\section{Database}
\label{\detokenize{docs/Installation/database:database}}\label{\detokenize{docs/Installation/database::doc}}
For this application to run it also needs a database set up, for this we
have chosen \sphinxhref{https://www.mongodb.com/}{MongoDB}.


\subsection{Deployment}
\label{\detokenize{docs/Installation/database:deployment}}
Our recommendation for deployment is to use \sphinxhref{https://www.mongodb.com/cloud/atlas}{MongoDB
Atlas} this has a free tier but
allows for scaling up to a paid plan if your requirements exceed the
limits of the free tier.

To get started sign up \sphinxhref{https://www.mongodb.com/cloud/atlas}{here}
then choose any of the cloud providers, and select a local cluster with
a free tier

Once this is done, a particular structure of the database will need to
be established if you don’t want to change the code
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
Create a database named \sphinxcode{\sphinxupquote{foodbank}}

\item {} 
Create 4 collections, \sphinxcode{\sphinxupquote{bays}}, \sphinxcode{\sphinxupquote{dummy}}, \sphinxcode{\sphinxupquote{food}} and \sphinxcode{\sphinxupquote{zones}} in
that database

\end{enumerate}

If you do want to change the names of the database or collections,
please consult the expansion section of this user guide.


\section{Frontend}
\label{\detokenize{docs/Installation/frontEnd:frontend}}\label{\detokenize{docs/Installation/frontEnd::doc}}
In our handover there is a folder named \sphinxcode{\sphinxupquote{frontend}}, in this is stored
the user interface with the program. It is a react app, and can be
started with the command \sphinxcode{\sphinxupquote{npm install}} followed by \sphinxcode{\sphinxupquote{npm start}}, you
will then be taken to a browser window with the application loaded.


\subsection{Deployment}
\label{\detokenize{docs/Installation/frontEnd:deployment}}
The code can be deployed using any static hosting, our
recommendation is \sphinxhref{https://zeit.co/}{ZEIT Now} as they have a very
generous free tier and it is very easy to get set up. There are two main
ways of getting set up


\subsection{Git Repository}
\label{\detokenize{docs/Installation/frontEnd:git-repository}}
\sphinxstyleemphasis{If you don’t know what this is, then proceed to the other option.}

For continuous development, this is a better option as any changes you
make will be automatically deployed to the website.

This can be done in 3 steps
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
Add the files to a GitHub, GitLab or Bitbucket repository

\item {} 
Create an account \sphinxhref{https://zeit.co/signup}{here}

\item {} 
Link together the repository and ZEIT by clicking \sphinxcode{\sphinxupquote{Import Project}}

\end{enumerate}


\subsection{Command line}
\label{\detokenize{docs/Installation/frontEnd:command-line}}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
Install npm using the instructions
\sphinxhref{https://www.npmjs.com/get-npm}{here}

\item {} 
Create a ZEIT account \sphinxhref{https://zeit.co/signup}{here}

\item {} 
Install the Now CLI using the instructions
\sphinxhref{https://zeit.co/download}{here}

\item {} 
The code can then be deployed with the command \sphinxcode{\sphinxupquote{now}}, as documented
\sphinxhref{https://zeit.co/docs/v2/platform/deployments\#now-cli}{here}

\end{enumerate}


\chapter{Expansion}
\label{\detokenize{index:expansion}}

\section{API Expansion}
\label{\detokenize{docs/Expansion/api-expansion:api-expansion}}\label{\detokenize{docs/Expansion/api-expansion::doc}}
Once the handover has been completed, you may wish to add your own API
endpoints to expand the functionality of the application further. In
this document I will detail how to do this. This document is aimed
towards technical users who have some experience with javascript before.


\subsection{Writing Back\sphinxhyphen{}end Functions}
\label{\detokenize{docs/Expansion/api-expansion:writing-back-end-functions}}
Most of the back\sphinxhyphen{}end functions are written so that they can be tested
with only a connection to a MongoDB server (No connection to the front
end required). Connections with the front end and MongoDB server are
handled by other functions in \sphinxcode{\sphinxupquote{routes/stockTake.js}}, so when writing
back\sphinxhyphen{}end functions we can assume that we have an existing connection to
a MongoDB server and that some other function will handle communicating
the result to the front end.

With this in mind, all the back\sphinxhyphen{}end functions take parameters \sphinxcode{\sphinxupquote{body}}
and \sphinxcode{\sphinxupquote{dbo}} only, where \sphinxcode{\sphinxupquote{body}} is a JSON object representing the
request body and \sphinxcode{\sphinxupquote{dbo}} is a MongoDB database object. The parameters of
\sphinxcode{\sphinxupquote{body}} will depend on the function being implemented. When writing new
back\sphinxhyphen{}end functions, it is a good idea to emulate this, however it is not
enforced.

Back\sphinxhyphen{}end functions are typically in the following format:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nx}{async} \PYG{k+kd}{function} \PYG{n+nx}{functionName}\PYG{p}{(}\PYG{n+nx}{body}\PYG{p}{,} \PYG{n+nx}{dbo}\PYG{p}{)} \PYG{p}{\PYGZob{}}
    \PYG{c+c1}{// Check if the body is well formed}
    \PYG{k}{if} \PYG{p}{(}\PYG{o}{!}\PYG{n+nx}{checkBody}\PYG{p}{(}\PYG{n+nx}{body}\PYG{p}{)}\PYG{p}{)} \PYG{p}{\PYGZob{}}
        \PYG{k}{return} \PYG{l+s+s2}{\PYGZdq{}FAIL\PYGZdq{}}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}}

    \PYG{k}{try} \PYG{p}{\PYGZob{}}
        \PYG{c+c1}{// Build a request if the request is more complicated}
        \PYG{k+kd}{let} \PYG{n+nx}{req} \PYG{o}{=} \PYG{n+nx}{buildRequest}\PYG{p}{(}\PYG{n+nx}{body}\PYG{p}{)}\PYG{p}{;}

        \PYG{c+c1}{// Call one, or many MongoDB functions}
        \PYG{k+kd}{let} \PYG{n+nx}{res} \PYG{o}{=} \PYG{n+nx}{await} \PYG{n+nx}{dbo}\PYG{p}{.}\PYG{n+nx}{collection}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}food\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{someMongoDBFunction}\PYG{p}{(}\PYG{n+nx}{req}\PYG{p}{)}\PYG{p}{;}

        \PYG{c+c1}{// Handle the response, returning \PYGZdq{}FAIL\PYGZdq{} if necessary}
        \PYG{n+nx}{handleResponse}\PYG{p}{(}\PYG{n+nx}{res}\PYG{p}{)}\PYG{p}{;}

    \PYG{p}{\PYGZcb{}} \PYG{k}{catch} \PYG{p}{(}\PYG{n+nx}{ex}\PYG{p}{)} \PYG{p}{\PYGZob{}}
        \PYG{k}{return} \PYG{l+s+s2}{\PYGZdq{}FAIL\PYGZdq{}}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}}

    \PYG{c+c1}{// either return \PYGZdq{}SUCCESS\PYGZdq{} or some data that was requested.}
    \PYG{k}{return} \PYG{l+s+s2}{\PYGZdq{}SUCCESS\PYGZdq{}}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}

For most cases this rough structure will be sufficient. The function
must return either “FAIL”, “SUCCESS” or the requested data in order to
be handled correctly by its calling functions.


\subsection{Routing Requests}
\label{\detokenize{docs/Expansion/api-expansion:routing-requests}}
Within \sphinxcode{\sphinxupquote{routes/stockTake.js}} there is a function called
\sphinxcode{\sphinxupquote{mongoUpdate}} that handles the calling of the created back\sphinxhyphen{}end
functions, as well as the connection to the MongoDB server. It also
handles the returning of data and error codes to the correct API
endpoint. In order to use this for your new function, you will need to
add an entry to the switch statement contained within this file.

This is simple to do, add the following code:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{switch} \PYG{l+s+s2}{\PYGZdq{}functionID\PYGZdq{}}\PYG{o}{:}
    \PYG{n+nx}{code} \PYG{o}{=} \PYG{n+nx}{await} \PYG{n+nx}{functionName}\PYG{p}{(}\PYG{n+nx}{body}\PYG{p}{,} \PYG{n+nx}{dbo}\PYG{p}{)}\PYG{p}{;}
    \PYG{k}{break}\PYG{p}{;}
\end{sphinxVerbatim}

to the switch statement.

The next step is to add a new router endpoint. This differs depending on
what type of function you have implemented.


\subsubsection{Functions that get something with no parameters}
\label{\detokenize{docs/Expansion/api-expansion:functions-that-get-something-with-no-parameters}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nx}{router}\PYG{p}{.}\PYG{n+nx}{get}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}/functionEndpoint\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{async} \PYG{k+kd}{function} \PYG{p}{(}\PYG{n+nx}{req}\PYG{p}{,} \PYG{n+nx}{res}\PYG{p}{,} \PYG{n+nx}{next}\PYG{p}{)} \PYG{p}{\PYGZob{}}
    \PYG{k+kd}{let} \PYG{n+nx}{result} \PYG{o}{=} \PYG{n+nx}{await} \PYG{n+nx}{mongoUpdate}\PYG{p}{(}\PYG{n+nx}{req}\PYG{p}{.}\PYG{n+nx}{body}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}functionID\PYGZdq{}}\PYG{p}{)}\PYG{p}{;}
    \PYG{n+nx}{res}\PYG{p}{.}\PYG{n+nx}{setHeader}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Content\PYGZhy{}Type\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}application/json\PYGZsq{}}\PYG{p}{)}\PYG{p}{;}
    \PYG{n+nx}{res}\PYG{p}{.}\PYG{n+nx}{status}\PYG{p}{(}\PYG{l+m+mi}{200}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{send}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}result\PYGZsq{}}\PYG{o}{:} \PYG{n+nx}{result}\PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}\PYG{p}{)}
\end{sphinxVerbatim}


\subsubsection{Functions that get something with parameters}
\label{\detokenize{docs/Expansion/api-expansion:functions-that-get-something-with-parameters}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nx}{router}\PYG{p}{.}\PYG{n+nx}{post}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}/functionEndpoint\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{async} \PYG{k+kd}{function} \PYG{p}{(}\PYG{n+nx}{req}\PYG{p}{,} \PYG{n+nx}{res}\PYG{p}{,} \PYG{n+nx}{next}\PYG{p}{)} \PYG{p}{\PYGZob{}}
    \PYG{k+kd}{let} \PYG{n+nx}{result} \PYG{o}{=} \PYG{n+nx}{await} \PYG{n+nx}{mongoUpdate}\PYG{p}{(}\PYG{n+nx}{req}\PYG{p}{.}\PYG{n+nx}{body}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}functionID\PYGZdq{}}\PYG{p}{)}\PYG{p}{;}
    \PYG{n+nx}{res}\PYG{p}{.}\PYG{n+nx}{setHeader}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Content\PYGZhy{}Type\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}application/json\PYGZdq{}}\PYG{p}{)}\PYG{p}{;}
    \PYG{n+nx}{res}\PYG{p}{.}\PYG{n+nx}{status}\PYG{p}{(}\PYG{l+m+mi}{200}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{send}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}result\PYGZsq{}}\PYG{o}{:} \PYG{n+nx}{result}\PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}\PYG{p}{)}
\end{sphinxVerbatim}


\subsubsection{Functions that make changes and only expect success/failure as result}
\label{\detokenize{docs/Expansion/api-expansion:functions-that-make-changes-and-only-expect-success-failure-as-result}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nx}{router}\PYG{p}{.}\PYG{n+nx}{post}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}/functionEndpoint\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{async} \PYG{k+kd}{function}\PYG{p}{(}\PYG{n+nx}{req}\PYG{p}{,} \PYG{n+nx}{res}\PYG{p}{,} \PYG{n+nx}{next}\PYG{p}{)} \PYG{p}{\PYGZob{}}
    \PYG{k+kd}{let} \PYG{n+nx}{code} \PYG{o}{=} \PYG{n+nx}{await} \PYG{n+nx}{mongoUpdate}\PYG{p}{(}\PYG{n+nx}{req}\PYG{p}{.}\PYG{n+nx}{body}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}functionID\PYGZdq{}}\PYG{p}{)}\PYG{p}{;}
    \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{code} \PYG{o}{!==} \PYG{l+s+s2}{\PYGZdq{}SUCCESS\PYGZdq{}}\PYG{p}{)} \PYG{p}{\PYGZob{}}
        \PYG{n+nx}{res}\PYG{p}{.}\PYG{n+nx}{sendStatus}\PYG{p}{(}\PYG{l+m+mi}{400}\PYG{p}{)}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}} \PYG{k}{else} \PYG{p}{\PYGZob{}}
        \PYG{n+nx}{res}\PYG{p}{.}\PYG{n+nx}{sendStatus}\PYG{p}{(}\PYG{l+m+mi}{200}\PYG{p}{)}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}}
\PYG{p}{\PYGZcb{}}\PYG{p}{)}
\end{sphinxVerbatim}

Your back\sphinxhyphen{}end function should now be able to serve requests from the
client.


\subsection{Making Requests}
\label{\detokenize{docs/Expansion/api-expansion:making-requests}}
We now need to add the end\sphinxhyphen{}point we have created to the public API so we
can access it from the front\sphinxhyphen{}end server. The code for accessing the
existing endpoints is in \sphinxcode{\sphinxupquote{public/api.js}}. When this is imported by a
front end program or part of the html of a website the functions can be
called from there.

API functions are less strictly formatted compared to the back\sphinxhyphen{}end
functions and can take any number of parameters. They should be written
in a way that assists the developer when writing code by abstracting the
awkward nature of hand writing JSON bodies.

Typically, the API functions should follow the following structure:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nx}{async} \PYG{k+kd}{function} \PYG{n+nx}{functionName}\PYG{p}{(}\PYG{n+nx}{arg\PYGZus{}1}\PYG{p}{,} \PYG{n+nx}{arg\PYGZus{}2}\PYG{p}{,} \PYG{p}{...}\PYG{p}{,} \PYG{n+nx}{arg\PYGZus{}n}\PYG{p}{)} \PYG{p}{\PYGZob{}}
    \PYG{k+kd}{let} \PYG{n+nx}{req} \PYG{o}{=} \PYG{n+nx}{buildBody}\PYG{p}{(}\PYG{n+nx}{arg\PYGZus{}1}\PYG{p}{,} \PYG{n+nx}{arg\PYGZus{}2}\PYG{p}{,} \PYG{p}{...}\PYG{p}{,} \PYG{n+nx}{arg\PYGZus{}n}\PYG{p}{)}\PYG{p}{;}
    \PYG{k+kd}{let} \PYG{n+nx}{res} \PYG{o}{=} \PYG{n+nx}{await} \PYG{n+nx}{fetch}\PYG{p}{(}\PYG{n+nx}{URL} \PYG{o}{+} \PYG{n+nx}{functionEndpoint}\PYG{p}{,} \PYG{p}{\PYGZob{}}
        \PYG{n+nx}{method}\PYG{o}{:} \PYG{l+s+s1}{\PYGZsq{}GET or POST\PYGZsq{}}\PYG{p}{,}
        \PYG{n+nx}{mode}\PYG{o}{:} \PYG{l+s+s1}{\PYGZsq{}cors\PYGZsq{}}\PYG{p}{,}
        \PYG{n+nx}{headers}\PYG{o}{:} \PYG{p}{\PYGZob{}}
            \PYG{l+s+s1}{\PYGZsq{}Content\PYGZhy{}Type\PYGZsq{}}\PYG{o}{:} \PYG{l+s+s1}{\PYGZsq{}application/json\PYGZsq{}}
        \PYG{p}{\PYGZcb{}}\PYG{p}{,}
        \PYG{n+nx}{body}\PYG{o}{:} \PYG{n+nx}{JSON}\PYG{p}{.}\PYG{n+nx}{stringify}\PYG{p}{(}\PYG{n+nx}{req}\PYG{p}{)}
    \PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{;}

    \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{res}\PYG{p}{.}\PYG{n+nx}{ok}\PYG{p}{)} \PYG{p}{\PYGZob{}}
        \PYG{k}{return} \PYG{l+s+s2}{\PYGZdq{}OK\PYGZdq{}}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}}
    \PYG{k}{return} \PYG{l+s+s2}{\PYGZdq{}FAIL\PYGZdq{}}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\subsection{Recompiling}
\label{\detokenize{docs/Expansion/api-expansion:recompiling}}
Javascript is a scripting language and does not require recompiling
after changes have been made. However, changes to the back\sphinxhyphen{}end will
require a restart of the back\sphinxhyphen{}end server before the changes will be
reflected. Changes will also need to be redeployed to whatever hosting
service you have chosen to use.


\subsection{Additional Information}
\label{\detokenize{docs/Expansion/api-expansion:additional-information}}
The above information should allow technical users to make simple
changes to the back\sphinxhyphen{}end so they can add their own features. For more
complex changes, you should consult the MongoDB documentation (for
communication with the MongoDB database) and the express server and node
documentation (for communication between the front and back end).


\section{Authentication Expansion}
\label{\detokenize{docs/Expansion/auth-expansion:authentication-expansion}}\label{\detokenize{docs/Expansion/auth-expansion::doc}}
Before expanding the authentication, it should first be installed, this
can be done by following the guide in the installation section of this
user manual.


\subsection{Adding and removing users}
\label{\detokenize{docs/Expansion/auth-expansion:adding-and-removing-users}}
One of the most common functions when expanding will be to add and
remove users. This can be done from the Auth0 dashboard.

On the sidebar, click on the \sphinxstylestrong{Users \& Roles} tab, this will take you
to the following screen

\noindent\sphinxincludegraphics[width=300\sphinxpxdimen]{{add_users}.png}

Adding a user can be done by clicking the \sphinxcode{\sphinxupquote{CREATE USER}} button, and
removing a user can be done by clicking the three dots next to a given
user.


\subsection{Allowing social integration}
\label{\detokenize{docs/Expansion/auth-expansion:allowing-social-integration}}
Social integration is a very popular choice, such as signin with Google
as it means you don’t have to remember passwords.

This can easily be done in Auth0 by clicking on the \sphinxstylestrong{Connections} tab
followed by the \sphinxstylestrong{Social} tab, then enable the switch of the social
providers you want.


\subsection{Customising the login page}
\label{\detokenize{docs/Expansion/auth-expansion:customising-the-login-page}}
This is something that would most likely be done when the company logo
is updated to ensure brand consistency.

From the dashboard, click on the \sphinxstylestrong{Universal Login} tab, and this will
allow you to specify a company logo and colours.


\section{Backups}
\label{\detokenize{docs/Expansion/backups:backups}}\label{\detokenize{docs/Expansion/backups::doc}}
This page will detail how to set up backups for your database if you
have chosen MongoDB as your database of choice.


\subsection{Setup}
\label{\detokenize{docs/Expansion/backups:setup}}
It is possible to create backups and restore data using the tools
provided with MongoDB. However, this requires knowledge of command line
instructions and will likely be difficult for users without this
knowledge. You can find more information
\sphinxhref{https://docs.mongodb.com/manual/tutorial/backup-and-restore-tools/}{here}
on how to perform backups in this way.

The second way of creating backups is using MongoDB Atlas. However, this
service is not available on the free tier (M0) and will require a paid
plan, the pricings of which can be found
\sphinxhref{https://www.mongodb.com/cloud/atlas/pricing?tck=docs\_atlas}{here}.

If you choose an M2 or M5 cluster, Atlas will create daily snapshots of
the cluster. They will be taken automatically, starting 24 hours after
the creation of the cluster. These snapshots can then be viewed in a
table. From there, you can restore or download your existing snapshots.
Atlas will retain the last 8 daily snapshots. The full documentation on
this can be found
\sphinxhref{https://docs.atlas.mongodb.com/backup/m2-m5-snapshots/\#m2-m5-snapshots}{here}.

If you require custom policies (e.g. weekly backups), then you will need
an M10 or larger cluster. It is then possible to create different backup
policies and modify the retention time of these snapshots. Additionally,
you can take on\sphinxhyphen{}demand snapshots, which occur immediately instead of at
regular intervals. Full information can be found
\sphinxhref{https://docs.atlas.mongodb.com/backup/cloud-provider-snapshots/}{here}

Please note that you will incur extra costs for Cloud Provider Snapshots
if you are using an M10+ tier.


\section{Database Expansion}
\label{\detokenize{docs/Expansion/database-expansion:database-expansion}}\label{\detokenize{docs/Expansion/database-expansion::doc}}
The database we have chosen is \sphinxhref{https://www.mongodb.com/}{MongoDB}
some details on the basic setup of this are included in the database
installation section.

The easiest way to expand the database is using \sphinxhref{https://www.mongodb.com/products/compass}{MongoDB
Compass} which is available
for all operating systems. The full documentation for this software is
available \sphinxhref{https://docs.mongodb.com/compass/master/}{here}.

When you open the program you will be greeted with this input:

\noindent\sphinxincludegraphics[width=300\sphinxpxdimen]{{connect}.png}

We will include this URL in the handover package, it can also be found
in the \sphinxcode{\sphinxupquote{routes/stocktake.js}} file of the backend assigned as \sphinxcode{\sphinxupquote{URL}}.

Once you have connected, you will see a screen showing the databases,
below is a screenshot of what this looks like for the default setup.

\noindent\sphinxincludegraphics[width=300\sphinxpxdimen]{{databases}.png}

If you want to add more features to the database you can use
\sphinxcode{\sphinxupquote{CREATE DATABASE}} to add a new database for storing more information.

In each database there are collections, which store your data, you can
access the collections in a database by clicking on the name of the
database. If you want to add more collections, this can be done here in
the same way as adding a database.

By clicking on a collection, you can see the stored data, this is useful
for testing purposes as it allows you to immediately see the changes
made to the data.


\chapter{Developer}
\label{\detokenize{index:developer}}

\section{Tray functions}
\label{\detokenize{docs/Developer/index:tray-functions}}\label{\detokenize{docs/Developer/index::doc}}

\subsection{addTray}
\label{\detokenize{docs/Developer/addTray:addtray}}\label{\detokenize{docs/Developer/addTray::doc}}
Adds a new tray to the warehouse.


\subsubsection{URL}
\label{\detokenize{docs/Developer/addTray:url}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
POST /stockTake/addTray
\end{sphinxVerbatim}


\subsubsection{Input}
\label{\detokenize{docs/Developer/addTray:input}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}}
  \PYG{n+nt}{\PYGZdq{}zone\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Zone specified\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}bay\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Bay specified\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}tray\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Tray specified\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}contents\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}What is in the tray\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}weight\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}How much does it weigh\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}expiry\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}When does it expire\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}xPos\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}The x position of each tray in the bay, i.e. leftmost tray has xPos = 0\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}yPos\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}The y position of each tray in the bay, i.e. topmost tray has yPos = 0\PYGZdq{}}
\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\paragraph{Parameters}
\label{\detokenize{docs/Developer/addTray:parameters}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Parameter
&\sphinxstyletheadfamily 
Type
&\sphinxstyletheadfamily 
Description
\\
\hline
\sphinxcode{\sphinxupquote{zone}}
&
\sphinxcode{\sphinxupquote{string}}
&
The zone in which the tray is
\\
\hline
\sphinxcode{\sphinxupquote{bay}}
&
\sphinxcode{\sphinxupquote{string}}
&
The bay in which the tray is
\\
\hline
\sphinxcode{\sphinxupquote{tray}}
&
\sphinxcode{\sphinxupquote{string}}
&
The tray to edit
\\
\hline
\sphinxcode{\sphinxupquote{contents}}
&
\sphinxcode{\sphinxupquote{string}}
&
What is in the tray
\\
\hline
\sphinxcode{\sphinxupquote{weight}}
&
\sphinxcode{\sphinxupquote{integer}}
&
The weight of the contents (give as a number in Kilos)
\\
\hline
\sphinxcode{\sphinxupquote{expiry}}
&
\sphinxcode{\sphinxupquote{string}}
&
The expiry date of the food
\\
\hline
\sphinxcode{\sphinxupquote{xPos}}
&
\sphinxcode{\sphinxupquote{integer}}
&
The horizontal positional element of the tray within its bay
\\
\hline
\sphinxcode{\sphinxupquote{yPos}}
&
\sphinxcode{\sphinxupquote{integer}}
&
The vertical positional element of the tray within its bay
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\subsubsection{Output}
\label{\detokenize{docs/Developer/addTray:output}}
\sphinxcode{\sphinxupquote{OK}} if successful

\sphinxcode{\sphinxupquote{FAIL}} if unsuccessful


\subsection{removeTray}
\label{\detokenize{docs/Developer/removeTray:removetray}}\label{\detokenize{docs/Developer/removeTray::doc}}
Removes a tray from the warehouse.


\subsubsection{URL}
\label{\detokenize{docs/Developer/removeTray:url}}
\sphinxcode{\sphinxupquote{http request POST /stockTake/removeTray}}


\subsubsection{Input}
\label{\detokenize{docs/Developer/removeTray:input}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}}
  \PYG{n+nt}{\PYGZdq{}zone\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Zone the tray is in\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}bay\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Bay the tray is in\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}tray\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}The tray to remove\PYGZdq{}}
\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\paragraph{Parameters}
\label{\detokenize{docs/Developer/removeTray:parameters}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Parameter
&\sphinxstyletheadfamily 
Type
&\sphinxstyletheadfamily 
Description
\\
\hline
\sphinxcode{\sphinxupquote{zone}}
&
\sphinxcode{\sphinxupquote{string}}
&
The zone the tray you want to remove is in
\\
\hline
\sphinxcode{\sphinxupquote{bay}}
&
\sphinxcode{\sphinxupquote{string}}
&
The bay the tray you want to remove is in
\\
\hline
\sphinxcode{\sphinxupquote{tray}}
&
\sphinxcode{\sphinxupquote{string}}
&
The tray you want to remove
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\subsubsection{Output}
\label{\detokenize{docs/Developer/removeTray:output}}
\sphinxcode{\sphinxupquote{OK}} if successful

\sphinxcode{\sphinxupquote{FAIL}} if unsuccessful


\subsection{switchTray}
\label{\detokenize{docs/Developer/switchTray:switchtray}}\label{\detokenize{docs/Developer/switchTray::doc}}
Switches the location of two trays.


\subsubsection{URL}
\label{\detokenize{docs/Developer/switchTray:url}}
\sphinxcode{\sphinxupquote{http request POST /stockTake/switchTray}}


\subsubsection{Input}
\label{\detokenize{docs/Developer/switchTray:input}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}}
  \PYG{n+nt}{\PYGZdq{}first\PYGZdq{}}\PYG{p}{:} \PYG{p}{\PYGZob{}}
    \PYG{n+nt}{\PYGZdq{}zone\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Zone ID\PYGZdq{}}\PYG{p}{,}
    \PYG{n+nt}{\PYGZdq{}bay\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Bay ID\PYGZdq{}}\PYG{p}{,}
    \PYG{n+nt}{\PYGZdq{}tray\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Tray ID\PYGZdq{}}
  \PYG{p}{\PYGZcb{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}second\PYGZdq{}}\PYG{p}{:} \PYG{p}{\PYGZob{}}
    \PYG{n+nt}{\PYGZdq{}zone\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Zone ID\PYGZdq{}}\PYG{p}{,}
    \PYG{n+nt}{\PYGZdq{}bay\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Bay ID\PYGZdq{}}\PYG{p}{,}
    \PYG{n+nt}{\PYGZdq{}tray\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Tray ID\PYGZdq{}}
  \PYG{p}{\PYGZcb{}}
\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\paragraph{Parameters}
\label{\detokenize{docs/Developer/switchTray:parameters}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Parameter
&\sphinxstyletheadfamily 
Type
&\sphinxstyletheadfamily 
Description
\\
\hline
\sphinxcode{\sphinxupquote{first}}
&
\sphinxcode{\sphinxupquote{JSON Object}}
&
The position of the first tray to swap
\\
\hline
\sphinxcode{\sphinxupquote{second}}
&
\sphinxcode{\sphinxupquote{JSON Object}}
&
The position of the second tray to swap
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\subsubsection{Output}
\label{\detokenize{docs/Developer/switchTray:output}}
\sphinxcode{\sphinxupquote{OK}} if successful

\sphinxcode{\sphinxupquote{FAIL}} if unsuccessful


\subsection{editTray}
\label{\detokenize{docs/Developer/editTray:edittray}}\label{\detokenize{docs/Developer/editTray::doc}}
Edits the contents of a tray. The only required fields are the zone, bay
and tray name; as well as any fields that are being edited.


\subsubsection{URL}
\label{\detokenize{docs/Developer/editTray:url}}
\sphinxcode{\sphinxupquote{http request POST /stockTake/editTray}}


\subsubsection{Input}
\label{\detokenize{docs/Developer/editTray:input}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}}
  \PYG{n+nt}{\PYGZdq{}zone\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Zone specified\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}bay\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Bay specified\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}tray\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Tray specified\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}contents\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}[Optional] What is in the tray\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}weight\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}[Optional] How much does it weigh\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}expiry\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}[Optional] When does it expire\PYGZdq{}}
\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\paragraph{Parameters}
\label{\detokenize{docs/Developer/editTray:parameters}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Parameter
&\sphinxstyletheadfamily 
Type
&\sphinxstyletheadfamily 
Description
\\
\hline
\sphinxcode{\sphinxupquote{zone}}
&
\sphinxcode{\sphinxupquote{string}}
&
The zone in
which the
tray is
\\
\hline
\sphinxcode{\sphinxupquote{bay}}
&
\sphinxcode{\sphinxupquote{string}}
&
The bay in
which the
tray is
\\
\hline
\sphinxcode{\sphinxupquote{tray}}
&
\sphinxcode{\sphinxupquote{string}}
&
The tray to
edit
\\
\hline
\sphinxcode{\sphinxupquote{contents}}
&
\sphinxcode{\sphinxupquote{string}}
&
{[}Optional{]}
What is in
the tray
\\
\hline
\sphinxcode{\sphinxupquote{weight}}
&
\sphinxcode{\sphinxupquote{integer}}
&
{[}Optional{]}
The weight
of the
contents
(give as a
number in
Kilos)
\\
\hline
\sphinxcode{\sphinxupquote{expiry}}
&
\sphinxcode{\sphinxupquote{string}}
&
{[}Optional{]}
The expiry
date of the
food
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\subsubsection{Output}
\label{\detokenize{docs/Developer/editTray:output}}
\sphinxcode{\sphinxupquote{OK}} if successful

\sphinxcode{\sphinxupquote{FAIL}} if unsuccessful


\subsection{moveTray}
\label{\detokenize{docs/Developer/moveTray:movetray}}\label{\detokenize{docs/Developer/moveTray::doc}}
Moves a tray to a specified empty tray position.


\subsubsection{URL}
\label{\detokenize{docs/Developer/moveTray:url}}
\sphinxcode{\sphinxupquote{http request POST /stockTake/moveTray}}


\subsubsection{Input}
\label{\detokenize{docs/Developer/moveTray:input}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}}
  \PYG{n+nt}{\PYGZdq{}posStart\PYGZdq{}}\PYG{p}{:} \PYG{p}{\PYGZob{}}
    \PYG{n+nt}{\PYGZdq{}zone\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Zone ID\PYGZdq{}}\PYG{p}{,}
    \PYG{n+nt}{\PYGZdq{}bay\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Bay ID\PYGZdq{}}\PYG{p}{,}
    \PYG{n+nt}{\PYGZdq{}tray\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Tray ID\PYGZdq{}}
  \PYG{p}{\PYGZcb{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}posTarget\PYGZdq{}}\PYG{p}{:} \PYG{p}{\PYGZob{}}
    \PYG{n+nt}{\PYGZdq{}zone\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Zone ID\PYGZdq{}}\PYG{p}{,}
    \PYG{n+nt}{\PYGZdq{}bay\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Bay ID\PYGZdq{}}\PYG{p}{,}
    \PYG{n+nt}{\PYGZdq{}tray\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Tray ID\PYGZdq{}}
  \PYG{p}{\PYGZcb{}}
\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\paragraph{Parameters}
\label{\detokenize{docs/Developer/moveTray:parameters}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Parameter
&\sphinxstyletheadfamily 
Type
&\sphinxstyletheadfamily 
Description
\\
\hline
\sphinxcode{\sphinxupquote{posStart}}
&
\sphinxcode{\sphinxupquote{JSON Object}}
&
Starting (current) position of the tray to move.
\\
\hline
\sphinxcode{\sphinxupquote{posTarget}}
&
\sphinxcode{\sphinxupquote{JSON Object}}
&
New position of the tray after it moves.
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\subsubsection{Output}
\label{\detokenize{docs/Developer/moveTray:output}}
\sphinxcode{\sphinxupquote{OK}} if successful

\sphinxcode{\sphinxupquote{FAIL}} if unsuccessful


\subsection{nextExpiring}
\label{\detokenize{docs/Developer/nextExpiring:nextexpiring}}\label{\detokenize{docs/Developer/nextExpiring::doc}}
Get the next n expiring trays in the warehouse


\subsubsection{URL}
\label{\detokenize{docs/Developer/nextExpiring:url}}
\sphinxcode{\sphinxupquote{http request POST /stockTake/nextExpiring}}


\subsubsection{Input}
\label{\detokenize{docs/Developer/nextExpiring:input}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}}
    \PYG{n+nt}{\PYGZdq{}n\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Top n trays to fetch\PYGZdq{}}\PYG{p}{,}
    \PYG{n+nt}{\PYGZdq{}contents\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}[Optional] Get trays that match these contents\PYGZdq{}}
\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\paragraph{Parameters}
\label{\detokenize{docs/Developer/nextExpiring:parameters}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Parameter
&\sphinxstyletheadfamily 
Type
&\sphinxstyletheadfamily 
Description
\\
\hline
\sphinxcode{\sphinxupquote{n}}
&
\sphinxcode{\sphinxupquote{integer}}
&
Number of trays to
fetch
\\
\hline
\sphinxcode{\sphinxupquote{contents}}
&
\sphinxcode{\sphinxupquote{string}}
&
{[}Optional{]} String
matching the contents
of some tray in the
warehouse
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\subsubsection{Output}
\label{\detokenize{docs/Developer/nextExpiring:output}}
Array of JSON Tray Objects if successful

\sphinxcode{\sphinxupquote{FAIL}} if unsuccessful


\subsection{getAllCategory}
\label{\detokenize{docs/Developer/getAllCategory:getallcategory}}\label{\detokenize{docs/Developer/getAllCategory::doc}}
Get all trays that contain the specified item


\subsubsection{URL}
\label{\detokenize{docs/Developer/getAllCategory:url}}
\sphinxcode{\sphinxupquote{http request POST /stockTake/getAllCategory}}


\subsubsection{Input}
\label{\detokenize{docs/Developer/getAllCategory:input}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}}
    \PYG{n+nt}{\PYGZdq{}contents\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Optional, only get trays that match these contents\PYGZdq{}}
\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\paragraph{Parameters}
\label{\detokenize{docs/Developer/getAllCategory:parameters}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Parameter
&\sphinxstyletheadfamily 
Type
&\sphinxstyletheadfamily 
Description
\\
\hline
\sphinxcode{\sphinxupquote{contents}}
&
\sphinxcode{\sphinxupquote{string}}
&
String matching the contents of some tray in the warehouse
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\subsubsection{Output}
\label{\detokenize{docs/Developer/getAllCategory:output}}
Array of JSON Tray Objects if successful

\sphinxcode{\sphinxupquote{FAIL}} if unsuccessful


\subsection{addTrayMany}
\label{\detokenize{docs/Developer/addTrayMany:addtraymany}}\label{\detokenize{docs/Developer/addTrayMany::doc}}
Add many trays in a single request.


\subsubsection{URL}
\label{\detokenize{docs/Developer/addTrayMany:url}}
\sphinxcode{\sphinxupquote{http request POST /stockTake/addTrayMany}}


\subsubsection{Input}
\label{\detokenize{docs/Developer/addTrayMany:input}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Array} \PYG{n}{of} \PYG{n}{tray} \PYG{n}{objects} \PYG{k}{as} \PYG{n}{described} \PYG{o+ow}{in} \PYG{n}{addTray}
\end{sphinxVerbatim}


\subsubsection{Output}
\label{\detokenize{docs/Developer/addTrayMany:output}}
\sphinxcode{\sphinxupquote{SUCCESS}} if all trays added successfully

\sphinxcode{\sphinxupquote{FAIL}} if unsuccessful


\subsection{editTrayMany}
\label{\detokenize{docs/Developer/editTrayMany:edittraymany}}\label{\detokenize{docs/Developer/editTrayMany::doc}}
Edit many trays in a single request.


\subsubsection{URL}
\label{\detokenize{docs/Developer/editTrayMany:url}}
\sphinxcode{\sphinxupquote{http request POST /stockTake/editTrayMany}}


\subsubsection{Input}
\label{\detokenize{docs/Developer/editTrayMany:input}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Array} \PYG{n}{of} \PYG{n}{tray} \PYG{n}{objects} \PYG{k}{as} \PYG{n}{described} \PYG{o+ow}{in} \PYG{n}{editTray}
\end{sphinxVerbatim}


\subsubsection{Output}
\label{\detokenize{docs/Developer/editTrayMany:output}}
\sphinxcode{\sphinxupquote{SUCCESS}} if all trays edited successfully

\sphinxcode{\sphinxupquote{FAIL}} if unsuccessful


\subsection{removeTrayMany}
\label{\detokenize{docs/Developer/removeTrayMany:removetraymany}}\label{\detokenize{docs/Developer/removeTrayMany::doc}}
Removes many trays in a single request.


\subsubsection{URL}
\label{\detokenize{docs/Developer/removeTrayMany:url}}
\sphinxcode{\sphinxupquote{http request POST /stockTake/removeTrayMany}}


\subsubsection{Input}
\label{\detokenize{docs/Developer/removeTrayMany:input}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Array} \PYG{n}{of} \PYG{n}{position} \PYG{n}{objects} \PYG{k}{as} \PYG{n}{described} \PYG{o+ow}{in} \PYG{n}{removeTray}
\end{sphinxVerbatim}


\subsubsection{Output}
\label{\detokenize{docs/Developer/removeTrayMany:output}}
\sphinxcode{\sphinxupquote{SUCCESS}} if all trays removed successfully

\sphinxcode{\sphinxupquote{FAIL}} if unsuccessful


\section{Bay functions}
\label{\detokenize{docs/Developer/index:bay-functions}}

\subsection{addBay}
\label{\detokenize{docs/Developer/addBay:addbay}}\label{\detokenize{docs/Developer/addBay::doc}}
Adds a new bay to the warehouse


\subsubsection{URL}
\label{\detokenize{docs/Developer/addBay:url}}
\sphinxcode{\sphinxupquote{http request POST /stockTake/addBay}}


\subsubsection{Input}
\label{\detokenize{docs/Developer/addBay:input}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}}
  \PYG{n+nt}{\PYGZdq{}bay\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Bay Name\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}zone\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Zone Name\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}xVal\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}x Position of bay in zone\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}yVal\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}y Position of bay in zone\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}xSize\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}x Size of the bay\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}ySize\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}y Size of the bay\PYGZdq{}}
\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\paragraph{Parameters}
\label{\detokenize{docs/Developer/addBay:parameters}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Parameter
&\sphinxstyletheadfamily 
Type
&\sphinxstyletheadfamily 
Description
\\
\hline
\sphinxcode{\sphinxupquote{bay}}
&
\sphinxcode{\sphinxupquote{string}}
&
Bay identifier string
\\
\hline
\sphinxcode{\sphinxupquote{zone}}
&
\sphinxcode{\sphinxupquote{string}}
&
Zone identifier of zone the bay is in
\\
\hline
\sphinxcode{\sphinxupquote{xVal}}
&
\sphinxcode{\sphinxupquote{integer}}
&
x Position of the bay within the given zone
\\
\hline
\sphinxcode{\sphinxupquote{yVal}}
&
\sphinxcode{\sphinxupquote{integer}}
&
y Position of the bay within the given zone
\\
\hline
\sphinxcode{\sphinxupquote{xSize}}
&
\sphinxcode{\sphinxupquote{integer}}
&
x size of the bay (number of columns for trays)
\\
\hline
\sphinxcode{\sphinxupquote{ySize}}
&
\sphinxcode{\sphinxupquote{integer}}
&
y size of the bay (number of rows for trays)
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\subsubsection{Output}
\label{\detokenize{docs/Developer/addBay:output}}
\sphinxcode{\sphinxupquote{OK}} if successful

\sphinxcode{\sphinxupquote{FAIL}} if unsuccessful


\subsection{removeBay}
\label{\detokenize{docs/Developer/removeBay:removebay}}\label{\detokenize{docs/Developer/removeBay::doc}}
Removes a bay (and all trays within) from the warehouse.


\subsubsection{URL}
\label{\detokenize{docs/Developer/removeBay:url}}
\sphinxcode{\sphinxupquote{http request POST /stockTake/removeBay}}


\subsubsection{Input}
\label{\detokenize{docs/Developer/removeBay:input}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}}
  \PYG{n+nt}{\PYGZdq{}zone\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Zone that the bay is in\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}bay\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}The bay to remove\PYGZdq{}}
\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\paragraph{Parameters}
\label{\detokenize{docs/Developer/removeBay:parameters}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Parameter
&\sphinxstyletheadfamily 
Type
&\sphinxstyletheadfamily 
Description
\\
\hline
\sphinxcode{\sphinxupquote{zone}}
&
\sphinxcode{\sphinxupquote{string}}
&
Zone identifier of the zone the bay is in
\\
\hline
\sphinxcode{\sphinxupquote{bay}}
&
\sphinxcode{\sphinxupquote{string}}
&
Bay identifier of the bay to remove
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\subsubsection{Output}
\label{\detokenize{docs/Developer/removeBay:output}}
\sphinxcode{\sphinxupquote{OK}} if successful

\sphinxcode{\sphinxupquote{FAIL}} if unsuccessful


\subsection{editBay}
\label{\detokenize{docs/Developer/editBay:editbay}}\label{\detokenize{docs/Developer/editBay::doc}}
Edit the attributes of a bay.


\subsubsection{URL}
\label{\detokenize{docs/Developer/editBay:url}}
\sphinxcode{\sphinxupquote{http request POST /stockTake/editBay}}


\subsubsection{Input}
\label{\detokenize{docs/Developer/editBay:input}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}}
  \PYG{n+nt}{\PYGZdq{}bay\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Bay Name\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}zone\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Zone Name\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}xVal\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}[Optional] New x Position of bay in zone\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}yVal\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}[Optional] New y Position of bay in zone\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}xSize\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}[Optional] New x Size of the bay\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}ySize\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}[Optional] New y Size of the bay\PYGZdq{}}
\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\paragraph{Parameters}
\label{\detokenize{docs/Developer/editBay:parameters}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Parameter
&\sphinxstyletheadfamily 
Type
&\sphinxstyletheadfamily 
Description
\\
\hline
\sphinxcode{\sphinxupquote{bay}}
&
\sphinxcode{\sphinxupquote{string}}
&
Name of the bay being amended
\\
\hline
\sphinxcode{\sphinxupquote{zone}}
&
\sphinxcode{\sphinxupquote{string}}
&
Zone identifier of zone the bay is in
\\
\hline
\sphinxcode{\sphinxupquote{xVal}}
&
\sphinxcode{\sphinxupquote{integer}}
&
{[}Optional{]} x Position of the bay within the given zone
\\
\hline
\sphinxcode{\sphinxupquote{yVal}}
&
\sphinxcode{\sphinxupquote{integer}}
&
{[}Optional{]} y Position of the bay within the given zone
\\
\hline
\sphinxcode{\sphinxupquote{xSize}}
&
\sphinxcode{\sphinxupquote{integer}}
&
{[}Optional{]} x size of the bay (number of columns for trays)
\\
\hline
\sphinxcode{\sphinxupquote{ySize}}
&
\sphinxcode{\sphinxupquote{integer}}
&
{[}Optional{]} y size of the bay (number of rows for trays)
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\subsubsection{Output}
\label{\detokenize{docs/Developer/editBay:output}}
\sphinxcode{\sphinxupquote{OK}} if successful

\sphinxcode{\sphinxupquote{FAIL}} if unsuccessful


\subsection{getTraysInBay}
\label{\detokenize{docs/Developer/getTraysInBay:gettraysinbay}}\label{\detokenize{docs/Developer/getTraysInBay::doc}}
Gets all of the trays in a specified bay.


\subsubsection{URL}
\label{\detokenize{docs/Developer/getTraysInBay:url}}
\sphinxcode{\sphinxupquote{http request POST /stockTake/getTraysInBay}}


\subsubsection{Input}
\label{\detokenize{docs/Developer/getTraysInBay:input}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}}
  \PYG{n+nt}{\PYGZdq{}zone\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Specified zone\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}bay\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Specified bay\PYGZdq{}}
\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\paragraph{Parameters}
\label{\detokenize{docs/Developer/getTraysInBay:parameters}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Parameter
&\sphinxstyletheadfamily 
Type
&\sphinxstyletheadfamily 
Description
\\
\hline
\sphinxcode{\sphinxupquote{zone}}
&
\sphinxcode{\sphinxupquote{string}}
&
The zone you want info about
\\
\hline
\sphinxcode{\sphinxupquote{bay}}
&
\sphinxcode{\sphinxupquote{string}}
&
The bay you want info about
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\subsubsection{Output}
\label{\detokenize{docs/Developer/getTraysInBay:output}}
An array of the trays in the bay.


\section{Zone functions}
\label{\detokenize{docs/Developer/index:zone-functions}}

\subsection{addZone}
\label{\detokenize{docs/Developer/addZone:addzone}}\label{\detokenize{docs/Developer/addZone::doc}}
Adds a new zone to the warehouse.


\subsubsection{URL}
\label{\detokenize{docs/Developer/addZone:url}}
\sphinxcode{\sphinxupquote{http request POST /stockTake/addZone}}


\subsubsection{Input}
\label{\detokenize{docs/Developer/addZone:input}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}}
  \PYG{n+nt}{\PYGZdq{}zone\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Name of the zone to be added\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}height\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Height of the zone\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}width\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Width of the zone\PYGZdq{}}
\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\paragraph{Parameters}
\label{\detokenize{docs/Developer/addZone:parameters}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Parameter
&\sphinxstyletheadfamily 
Type
&\sphinxstyletheadfamily 
Description
\\
\hline
\sphinxcode{\sphinxupquote{zone}}
&
\sphinxcode{\sphinxupquote{string}}
&
The zone you want to add
\\
\hline
\sphinxcode{\sphinxupquote{height}}
&
\sphinxcode{\sphinxupquote{integer}}
&
The height you want the zone to be
\\
\hline
\sphinxcode{\sphinxupquote{width}}
&
\sphinxcode{\sphinxupquote{integer}}
&
The width you want the zone to be
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\subsubsection{Output}
\label{\detokenize{docs/Developer/addZone:output}}
\sphinxcode{\sphinxupquote{OK}} if successful

\sphinxcode{\sphinxupquote{FAIL}} if unsuccessful


\subsection{editZone}
\label{\detokenize{docs/Developer/editZone:editzone}}\label{\detokenize{docs/Developer/editZone::doc}}
Edit the target zone’s attributes.


\subsubsection{URL}
\label{\detokenize{docs/Developer/editZone:url}}
\sphinxcode{\sphinxupquote{http request POST /stockTake/editZone}}


\subsubsection{Input}
\label{\detokenize{docs/Developer/editZone:input}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}}
  \PYG{n+nt}{\PYGZdq{}zone\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Name of the zone to be altered\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}newname\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}[Optional] New Name of the zone\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}height\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}[Optional] New Height of the zone\PYGZdq{}}\PYG{p}{,}
  \PYG{n+nt}{\PYGZdq{}width\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}[Optional] New Width of the zone\PYGZdq{}}
\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\paragraph{Parameters}
\label{\detokenize{docs/Developer/editZone:parameters}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Parameter
&\sphinxstyletheadfamily 
Type
&\sphinxstyletheadfamily 
Description
\\
\hline
\sphinxcode{\sphinxupquote{zone}}
&
\sphinxcode{\sphinxupquote{string}}
&
Target zone identifier
\\
\hline
\sphinxcode{\sphinxupquote{newname}}
&
\sphinxcode{\sphinxupquote{string}}
&
{[}Optional{]} The new name of the
zone
\\
\hline
\sphinxcode{\sphinxupquote{height}}
&
\sphinxcode{\sphinxupquote{integer}}
&
{[}Optional{]} The new height of
the zone (number of rows in
the zone)
\\
\hline
\sphinxcode{\sphinxupquote{width}}
&
\sphinxcode{\sphinxupquote{integer}}
&
{[}Optional{]} The new width of
the zone (number of columns in
the zone)
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\subsubsection{Output}
\label{\detokenize{docs/Developer/editZone:output}}
\sphinxcode{\sphinxupquote{OK}} if successful

\sphinxcode{\sphinxupquote{FAIL}} if unsuccessful


\subsection{getBaysinZone}
\label{\detokenize{docs/Developer/getBaysInZone:getbaysinzone}}\label{\detokenize{docs/Developer/getBaysInZone::doc}}
Gets an array of all the bays in a specified zone


\subsubsection{URL}
\label{\detokenize{docs/Developer/getBaysInZone:url}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
POST /stockTake/getZone
\end{sphinxVerbatim}


\subsubsection{Input}
\label{\detokenize{docs/Developer/getBaysInZone:input}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}}
  \PYG{n+nt}{\PYGZdq{}zone\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}Target zone identifer\PYGZdq{}}\PYG{p}{,}
\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\paragraph{Parameters}
\label{\detokenize{docs/Developer/getBaysInZone:parameters}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Parameter
&\sphinxstyletheadfamily 
Type
&\sphinxstyletheadfamily 
Description
\\
\hline
\sphinxcode{\sphinxupquote{zone}}
&
\sphinxcode{\sphinxupquote{string}}
&
The name of the zone containing the bays we wish to retrieve
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\subsubsection{Output}
\label{\detokenize{docs/Developer/getBaysInZone:output}}
An array of trays is returned if successful

\sphinxcode{\sphinxupquote{FAIL}} if unsuccessful


\subsection{getZones}
\label{\detokenize{docs/Developer/getZones:getzones}}\label{\detokenize{docs/Developer/getZones::doc}}
Gets all zones in the database and their bay contents.


\subsubsection{URL}
\label{\detokenize{docs/Developer/getZones:url}}
\sphinxcode{\sphinxupquote{http request GET /stockTake/getZones}}


\subsubsection{Input}
\label{\detokenize{docs/Developer/getZones:input}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
None
\end{sphinxVerbatim}


\subsubsection{Output}
\label{\detokenize{docs/Developer/getZones:output}}
Returns an array of all zone identifiers


\subsection{removeZone}
\label{\detokenize{docs/Developer/removeZone:removezone}}\label{\detokenize{docs/Developer/removeZone::doc}}
Removes a zone (and all bays and trays contained within) from the
warehouse.


\subsubsection{URL}
\label{\detokenize{docs/Developer/removeZone:url}}
\sphinxcode{\sphinxupquote{http request POST /stockTake/removeZone}}


\subsubsection{Input}
\label{\detokenize{docs/Developer/removeZone:input}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}}
    \PYG{n+nt}{\PYGZdq{}zone\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}The zone to remove\PYGZdq{}}
\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\paragraph{Parameters}
\label{\detokenize{docs/Developer/removeZone:parameters}}

\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Parameter
&\sphinxstyletheadfamily 
Type
&\sphinxstyletheadfamily 
Description
\\
\hline
\sphinxcode{\sphinxupquote{zone}}
&
\sphinxcode{\sphinxupquote{string}}
&
The identifier of the zone you want to remove
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\subsubsection{Output}
\label{\detokenize{docs/Developer/removeZone:output}}
\sphinxcode{\sphinxupquote{OK}} if successful

\sphinxcode{\sphinxupquote{FAIL}} if unsuccessful



\renewcommand{\indexname}{Index}
\printindex
\end{document}